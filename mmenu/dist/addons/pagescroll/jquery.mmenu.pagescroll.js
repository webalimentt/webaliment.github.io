!function(t){function e(t){a&&a.length&&a.is(":visible")&&o.$html.add(o.$body).animate({scrollTop:a.offset().top+t}),a=!1}function i(t){try{return!("#"==t||"#"!=t.slice(0,1)||!o.$page.find(t).length)}catch(e){return!1}}var n="mmenu",s="pageScroll";t[n].addons[s]={setup:function(){var l=this,a=this.opts[s],c=this.conf[s];if(o=t[n].glbl,"boolean"==typeof a&&(a={scroll:a}),a=this.opts[s]=t.extend(!0,{},t[n].defaults[s],a),a.scroll&&this.bind("close:finish",function(){e(c.scrollOffset)}),a.update){var l=this,d=[],h=[];l.bind("initListview:after",function(e){l.__filterListItemAnchors(e.find("."+r.listview).children("li")).each(function(){var e=t(this).attr("href");i(e)&&d.push(e)}),h=d.reverse()});var p=-1;o.$wndw.on(f.scroll+"-"+s,function(e){for(var i=o.$wndw.scrollTop(),n=0;n<h.length;n++)if(t(h[n]).offset().top<i+c.updateOffset){p!==n&&(p=n,l.setSelected(l.__filterListItemAnchors(l.$pnls.children("."+r.panel+"_opened").find("."+r.listview).children("li")).filter('[href="'+h[n]+'"]').parent()));break}})}},add:function(){r=t[n]._c,l=t[n]._d,f=t[n]._e},clickAnchor:function(n,l,f){if(a=!1,l&&f&&this.opts.offCanvas&&this.opts[s].scroll&&o.$page&&o.$page.length){var c=n.attr("href");if(i(c)){if(a=t(c),!this.$menu.is("."+r.menu+"_sidebar-expanded")||!o.$html.is("."+r.wrapper+"_sidebar-expanded"))return{close:!0};e(this.conf[s].scrollOffset)}}}},t[n].defaults[s]={scroll:!1,update:!1},t[n].configuration[s]={scrollOffset:0,updateOffset:50};var r,l,f,o,a=!1}(jQuery);